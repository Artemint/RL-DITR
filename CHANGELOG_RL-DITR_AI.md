# CHANGELOG: –ò–∑–º–µ–Ω–µ–Ω–∏—è –∏ —É–ª—É—á—à–µ–Ω–∏—è RL-DITR (AI-assisted)

## 1. –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞ –≥–ª–∏–∫–µ–º–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è

**–§–∞–π–ª:** `ts/arm.py`

- –î–æ–±–∞–≤–ª–µ–Ω –≤–æ–∑–≤—Ä–∞—Ç –ø–æ–ª–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ä—è–¥–∞ –≥–ª—é–∫–æ–∑—ã (—Å–∏–º—É–ª—è—Ü–∏—è –ø–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–º –∞–≥–µ–Ω—Ç–æ–º –¥–µ–π—Å—Ç–≤–∏—è–º).
- –í JSON-–≤—ã–≤–æ–¥ –¥–æ–±–∞–≤–ª–µ–Ω –∫–ª—é—á `"glucose_profile"` ‚Äî –ø–æ–ª–Ω—ã–π –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ä—è–¥ —Å–∏–º—É–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –≥–ª–∏–∫–µ–º–∏–∏.
- –ò–∑–º–µ–Ω—ë–Ω —Ñ–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞: —Ç–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å–ª–æ–≤–∞—Ä—å —Å –∫–ª—é—á–∞–º–∏ `"recommendations"` (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ –¥–æ–∑—ã –∏ –ø—Ä–æ–≥–Ω–æ–∑ –≥–ª—é–∫–æ–∑—ã) –∏ `"glucose_profile"` (–ø–æ–ª–Ω–∞—è —Å–∏–º—É–ª—è—Ü–∏—è).
- –î–æ–±–∞–≤–ª–µ–Ω –≤—ã–≤–æ–¥ –∏—Å—Ö–æ–¥–Ω—ã—Ö (—Ä–µ–∞–ª—å–Ω—ã—Ö) –∑–Ω–∞—á–µ–Ω–∏–π –≥–ª—é–∫–æ–∑—ã: –∫–ª—é—á `"observed_glucose"` –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å —Å–∏–º—É–ª—è—Ü–∏–µ–π.
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–∏–ø–µ –∏–Ω—Å—É–ª–∏–Ω–∞ –≤ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è—Ö (rapid, medium, long).
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞ –≤ —Ñ–∞–π–ª `results/predictions_full.json` —á–µ—Ä–µ–∑ `json.dump`.

## 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ —É–ª—É—á—à–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö

- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏ glu_pred: –µ—Å–ª–∏ –¥–≤—É–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤ ‚Äî –±–µ—Ä—ë—Ç—Å—è –¥–∏–∞–≥–æ–Ω–∞–ª—å.
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (device) –¥–ª—è –º–æ–¥–µ–ª–∏ (CPU/GPU).
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π Unicode –≤ JSON —Ñ–∞–π–ª–∞—Ö (–¥–æ–±–∞–≤–ª–µ–Ω—ã `encoding='utf-8'` –∏ `ensure_ascii=False`).

## 3. –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ –¥–∏–∞–±–µ—Ç–∏–∫–æ–≤ 1 —Ç–∏–ø–∞

**–§–∞–π–ª:** `create_diabetes_dataset.py`

- –°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤—Ö–æ–¥–Ω–æ–≥–æ –¥–∞—Ç–∞—Å–µ—Ç–∞ –∏–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–∞—Ü–∏–µ–Ω—Ç–∞.
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å —Ç—Ä–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤: Fitbit (—Ä–æ—Å—Ç, –≤–µ—Å, BMI), mySugr (–∏–Ω—Å—É–ª–∏–Ω, —É–≥–ª–µ–≤–æ–¥—ã), Reader (–≥–ª—é–∫–æ–∑–∞).
- –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞–∑—Ä–µ–∂–µ–Ω–Ω–æ–≥–æ –¥–∞—Ç–∞—Å–µ—Ç–∞ (–¥–æ 128 —Ç–æ—á–µ–∫) —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π.
- –í–∫–ª—é—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∏–Ω—Å—É–ª–∏–Ω–∞ (rapid, long) –∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–∞—Ü–∏–µ–Ω—Ç–∞.

## 4. –£–ª—É—á—à–µ–Ω–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≥–ª–∏–∫–µ–º–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è

**–§–∞–π–ª:** `simulate_glucose_profile_improved.py`

- –ì—Ä–∞—Ñ–∏–∫ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç:
  - –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ñ–∏–ª—å –≥–ª–∏–∫–µ–º–∏–∏ (—Å–∏–Ω—è—è –ª–∏–Ω–∏—è).
  - –°–∏–º—É–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å –≥–ª–∏–∫–µ–º–∏–∏ (–∫—Ä–∞—Å–Ω–∞—è –ª–∏–Ω–∏—è).
  - –†–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≥–ª—é–∫–æ–∑—ã –∑–∞ –ø–µ—Ä–∏–æ–¥ —Å–∏–º—É–ª—è—Ü–∏–∏ (–∑–µ–ª—ë–Ω–∞—è –ø—É–Ω–∫—Ç–∏—Ä–Ω–∞—è –ª–∏–Ω–∏—è).
  - –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ –¥–æ–∑—ã –∏–Ω—Å—É–ª–∏–Ω–∞ (–∫—Ä–∞—Å–Ω—ã–µ –∫—Ä–µ—Å—Ç–∏–∫–∏).
  - –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –≤–≤–µ–¥–µ–Ω–∏—è –∏–Ω—Å—É–ª–∏–Ω–∞ (–æ—Ä–∞–Ω–∂–µ–≤—ã–µ —Ä–æ–º–±—ã).
- –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–æ–∑ –∏–Ω—Å—É–ª–∏–Ω–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ vs —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å).
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.

## 5. –í–∞–ª–∏–¥–∞—Ü–∏—è –º–æ–¥–µ–ª–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–§–∞–π–ª:** `validate_model_simulation_fixed.py`

- –°–∫—Ä–∏–ø—Ç –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —Ç–æ—á–Ω–æ—Å—Ç–∏ —Å–∏–º—É–ª—è—Ü–∏–∏ –≥–ª—é–∫–æ–∑—ã.
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–∏–º—É–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –≥–ª–∏–∫–µ–º–∏–∏ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∏–∑–º–µ—Ä–µ–Ω–∏—è–º–∏.
- –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –∫–∞—á–µ—Å—Ç–≤–∞: MAE, RMSE, R¬≤, MAPE.
- –ê–Ω–∞–ª–∏–∑ —Ç–æ—á–Ω–æ—Å—Ç–∏ –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º –≥–ª—é–∫–æ–∑—ã (–≥–∏–ø–æ–≥–ª–∏–∫–µ–º–∏—è, –Ω–æ—Ä–º–∞, –≥–∏–ø–µ—Ä–≥–ª–∏–∫–µ–º–∏—è).
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤–∞–ª–∏–¥–∞—Ü–∏–∏.

## 6. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Git –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞

**–§–∞–π–ª:** `.gitignore`

- –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–∞—Ü–∏–µ–Ω—Ç–∞ –∏–∑ –∫–æ–º–º–∏—Ç–∞ –¥–ª—è –∑–∞—â–∏—Ç—ã –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏.
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–ø–æ–∫ `assets/` –∏ `results/` —Å –ø–æ–º–æ—â—å—é `.gitkeep` —Ñ–∞–π–ª–æ–≤.
- –í–∫–ª—é—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –∏ –≤–µ—Å–æ–≤ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞.
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–∞ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (`sample.csv`) –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

## 7. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É

### –ò–Ω—Ñ–µ—Ä–µ–Ω—Å —á–µ—Ä–µ–∑ CLI:
```bash
python ts/arm.py --model_dir assets/models/weights --df_meta_path assets/models/features.csv --csv_path assets/data/diabetes_t1_input.csv --scheme 'rapid,na,rapid,na' --start_time '2022-01-17' --days 2
```

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ñ–∏–ª—è:
```bash
python simulate_glucose_profile_improved.py
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è –º–æ–¥–µ–ª–∏:
```bash
python validate_model_simulation_fixed.py
```

---

### –ò—Ç–æ–≥

**–ü—Ä–æ–µ–∫—Ç —Ç–µ–ø–µ—Ä—å –ø–æ–∑–≤–æ–ª—è–µ—Ç:**
- –°–æ–∑–¥–∞–≤–∞—Ç—å –≤—Ö–æ–¥–Ω—ã–µ –¥–∞—Ç–∞—Å–µ—Ç—ã –∏–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤ —Å –¥–∏–∞–±–µ—Ç–æ–º 1 —Ç–∏–ø–∞.
- –ó–∞–ø—É—Å–∫–∞—Ç—å –∏–Ω—Ñ–µ—Ä–µ–Ω—Å —á–µ—Ä–µ–∑ CLI —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.
- –ü–æ–ª—É—á–∞—Ç—å –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π —Å–∏–º—É–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å –≥–ª–∏–∫–µ–º–∏–∏.
- –í–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ–º —Ä–µ–∞–ª—å–Ω—ã—Ö –∏ —Å–∏–º—É–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
- –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π –º–æ–¥–µ–ª–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
- –†–∞–±–æ—Ç–∞—Ç—å —Å –ø—Ä–æ–µ–∫—Ç–æ–º —á–µ—Ä–µ–∑ Git –±–µ–∑ –≤–∫–ª—é—á–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–∞—Ü–∏–µ–Ω—Ç–∞.

**–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ‚ú® 